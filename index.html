<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msvalidate.01" content="89C7B6EE9AA4D1FBB8188B682D920418" />
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="icon.png" type="image/x-icon">
    <title>å¥–ç‰Œæ¦œ</title>
</head>

<body>
    <div id="top">
        <h1>å·´é»å­å¥¥è¿ä¼šå¥–ç‰Œæ¦œğŸ¥‡</h1>
        <h5>å®æ—¶æ›´æ–°ï¼Œæ•°æ®æ¥æºäºå¤®è§†</h5>
    </div>
    <table id="lists">
        <tr>
            <th>æ’å</th>
            <th>å›½å®¶/åœ°åŒº</th>
            <th>é‡‘ç‰Œ</th>
            <th>é“¶ç‰Œ</th>
            <th>é“œç‰Œ</th>
            <th>æ€»è®¡</th>
        </tr>
    </table>
    <script>
        let data = ''
        function jsonp(callback) {
            let url = 'https://api.cntv.cn/Olympic/getOlyMedals?serviceId=2024aoyun&olyseason=2024S&itemcode=GEN-------------------------------&t=jsonp&cb=banomedals'
            const script = document.createElement('script');
            script.src = url + '&callback=' + callback;
            document.body.appendChild(script);
        }

        function handleResponse(response) {
           data = response.data.medalsList;
        //    console.log(data)
           render(data);
        }

        jsonp('handleResponse');
        function render(lists) {
            let lists_elm = document.getElementById('lists');
            lists.forEach(list => {
                lists_elm.innerHTML += 
                `
                <tr>
                    <td>${list.rank}</td>
                    <td>${list.countryname}</td>
                    <td>${list.gold}</td>
                    <td>${list.silver}</td>
                    <td>${list.bronze}</td>
                    <td>${list.count}</td>
                </tr>
                `
            });
        }

    </script>
</body>

</html>